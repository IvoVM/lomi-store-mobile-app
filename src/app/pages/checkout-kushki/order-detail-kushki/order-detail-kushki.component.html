<div >
  <ng-container>
    <!-- <ion-button class="ion-margin-top" *ngIf="!promotionCode" (click)="openDiscountModal()" expand="block" fill="outline" shape="round">
      Agrega tu cupón de descuento &nbsp; 
     <img (click)="click()" style="border-radius: 0%;"
       src="../../../../assets/images/discount-svgrepo-com.png">
   </ion-button>

    <ion-button class="remove-promotion-code remove-lomi-code ion-margin-top" *ngIf="promotionCode" color="lightLomi" expand="block"  shape="round">
      <span>
        {{promotionCode}}
      </span>
      <ion-button class="close-button" (click)="removeCoupon()" expand="block" fill="clear" shape="round">
        <ion-icon class="close-icon lomi-code" slot="end" name="close-outline"></ion-icon>
      </ion-button>
    </ion-button>  -->

    <ion-button class="ion-margin-bottom" *ngIf="!latamCode" style="margin: 1em 0;" (click)="openLatamCodeModal()" color="dark-lomi" expand="block" fill="outline"
      shape="round">
      Acumula millas
      <img style="max-width: 4em;" src="../../../../assets/images/latam_pass.png">
    </ion-button>

    <ion-button class="ion-margin-top ion-margin-bottom remove-promotion-code remove-latam-code" *ngIf="latamCode" color="darkbluelomi" expand="block"  shape="round">
      <span>
        {{latamCode}}
      </span>
      <ion-button class="close-button" (click)="removeLatamCode()" expand="block" fill="clear" shape="round">
        <ion-icon class="close-icon latam-code" slot="end" name="close-outline"></ion-icon>
      </ion-button>
    </ion-button> 

  </ng-container>


  <ion-label class=" Montserrat details-title">Resumen de compra</ion-label>
  <div class="container-details ion-padding">
    <div class="detail">
      <div class="subtotal">
        <ion-row>
          <ion-col size="8">
            <ion-label>Subtotal ({{amount}} Productos)</ion-label>
          </ion-col>
          <ion-col size="4" style="text-align:right">
            <ion-label>{{details.display_item_total}} </ion-label>
          </ion-col>
        </ion-row>
      </div>

      <div class="delivery fee" *ngIf="!refreshing">

        <ion-row *ngIf="cart.data.attributes.display_ship_total">
          <ion-col size="8">
            <ion-label>Envíos + Servicio de Tiendas </ion-label>
          </ion-col>
          <ion-col size="4" style="text-align:right">
            <ion-label *ngIf="!shipmentDeduced" style="text-decoration: line-through;padding-right: 0.5em;">{{cart.data.attributes.display_ship_total}}</ion-label>
            <ion-label class="primary-color" *ngIf="shipmentDeduced" style="text-decoration: line-through;padding-right: 0.5em;">{{cart.data.attributes.display_ship_total}}</ion-label>
            <ion-label *ngIf="shipmentDeduced">${{shipmentDeduced}}</ion-label>
          </ion-col>
        </ion-row>

      </div>
    </div>
    <app-loader-spinner *ngIf="refreshing"></app-loader-spinner>
    <div class="promotions color-primary" *ngIf="!refreshing">
      <ion-row *ngFor="let promo of promotions">
        <ion-col size="6">
          {{promo.name}}
        </ion-col>
        <ion-col size="6" style="text-align:right">
          {{promo.display_amount}}
        </ion-col>
      </ion-row>
    </div>
  </div>
</div>