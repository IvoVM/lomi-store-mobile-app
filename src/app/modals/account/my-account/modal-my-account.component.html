<ion-header translucent>
  <ion-toolbar>
    <ion-title>Cambiar contraseña</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="dismiss()" class="btn-dismiss"><ion-icon color="tertiary" name="close-outline"></ion-icon></ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid class="ion-text-center ion-padding">
    <ion-row>
      <form [formGroup]="updateForm" (submit)="update()" novalidate style="width: 100%">
        <ion-col size="12">
          <ion-input placeholder="Correo electrónico"
                     class="ion-text-left ion-margin-bottom"
                     formControlName="email"
                     ngModel="{{user.data.attributes.email}}"
                     type="email"></ion-input>
          <div class="error ion-padding-bottom" *ngIf="submitted && errorCtr.email.errors?.required">
            Este campo es requerido
          </div>
          <div class="error ion-padding-bottom" *ngIf="submitted && errorCtr.email.errors?.pattern">
            Ingresa un correo válido
          </div>

          <ion-input placeholder="Contraseña"
                     class="ion-text-left ion-margin-bottom"
                     formControlName="password"
                     type="password"></ion-input>
          <div class="error ion-padding-bottom" *ngIf="submitted && errorCtr.password.errors?.required">
            Este campo es requerido
          </div>

          <ion-input placeholder="Confirmar contraseña"
                     class="ion-text-left ion-margin-bottom"
                     formControlName="password_confirmation"
                     type="password"></ion-input>
          <div class="error ion-padding-bottom" *ngIf="submitted && errorCtr.password_confirmation.errors?.required">
            Este campo es requerido
          </div>

        </ion-col>
        <ion-col size="12">
          <ion-button type="submit" style="--background:var(--ion-color-primary);--color: white"
                      expand="block">Actualizar
          </ion-button>
        </ion-col>
      </form>
    </ion-row>
  </ion-grid>
</ion-content>
<ion-footer>
  <ion-row>
    <ion-col size="12">
      <ion-button (click)="onLogout()" fill="outline" color="danger" expand="block">Cerrar sesión</ion-button>
    </ion-col>
  </ion-row>
</ion-footer>
